<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CO₂ Emission Predictor</title>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.getElementById("prediction-form").addEventListener("submit", function(event) {
                event.preventDefault();
                
                let formData = new FormData(this);
                let jsonData = new URLSearchParams(formData);

                fetch("/predict", {
                    method: "POST",
                    body: jsonData,
                    headers: {
                        "Content-Type": "application/x-www-form-urlencoded"
                    }
                })
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        document.getElementById("result").innerHTML = "Error: " + data.error;
                    } else {
                        document.getElementById("result").innerHTML = 
                            "Predicted CO₂ Emission: " + data.predicted_CO2_emission + " g/km";
                    }
                })
                .catch(error => console.error("Error:", error));
            });
        });
    </script>
</head>
<body>
    <h1>CO₂ Emission Predictor</h1>
    <form id="prediction-form">
        <label>Engine Size (L): <input type="number" name="engine_size" step="0.1" required></label><br>
        <label>Cylinders: <input type="number" name="cylinders" required></label><br>
        <label>Fuel Consumption City (L/100km): <input type="number" name="fuel_city" step="0.1" required></label><br>
        <label>Fuel Consumption Highway (L/100km): <input type="number" name="fuel_hwy" step="0.1" required></label><br>
        <label>Fuel Consumption Combined (L/100km): <input type="number" name="fuel_comb" step="0.1" required></label><br>
        <label>Transmission:
            <select name="transmission">
                <option value="Automatic">Automatic</option>
                <option value="Manual">Manual</option>
                <option value="CVT">CVT</option>
            </select>
        </label><br>
        <label>Fuel Type:
            <select name="fuel_type">
                <option value="Gasoline">Gasoline</option>
                <option value="Diesel">Diesel</option>
                <option value="Electric">Electric</option>
            </select>
        </label><br>
        <label>Vehicle Class:
            <select name="vehicle_class">
                <option value="Sedan">Sedan</option>
                <option value="SUV">SUV</option>
                <option value="Truck">Truck</option>
            </select>
        </label><br>
        <button type="submit">Predict CO₂</button>
    </form>
    <h2 id="result"></h2>
</body>
</html>
